# Private Key From Backup Shares Example

This example demonstrates how to use the `ec` package to reconstruct a private key from a set of backup key shares. This is useful in scenarios where a private key is split into multiple parts for security (e.g., using Shamir's Secret Sharing).

## Overview

The `keyshares_pk_from_backup` example (using `from_backup.go`) showcases:
1. Having a set of key share strings.
2. Using `ec.PrivateKeyFromBackupShares` to combine the shares.
3. Reconstructing the original private key.
4. Verifying the reconstructed private key by comparing its WIF (Wallet Import Format) string to an expected value.

## Code Walkthrough

### Reconstructing Private Key from Shares

```go
expectedWif := "KxPEP4DCP2a4g3YU5amfXjFH4kWmz8EHWrTugXocGWgWBbhGsX7a"

// Restore a key from 3 of 5 key shares
shares := []string{
    "89Gtabj94hosNkJtAtSeJTBKrrZ2BpoVYr2Kmt5UFzjR.69DcY9ngWU7afbj1Na84BahFUMPb6qkBa1hmzDkDcp18.3.bbc45478",
    "CsA3JhDRqBb1z58FxoixZmdsLTvHuehfwZzPgqJVA3Yv.4PP6QQcmFxikiX38yYUCqE2LFmht2MjXkf4nRjMqYBgw.3.bbc45478",
    "BVk1tcvJEbhUfZagStg15rFRxQDeLzgSN15rWkGhNf19.CUB7p6zK3JPBkBriRRGdWj4y3Z3qCfsaCYutmMWKv1VJ.3.bbc45478",
}

pk, _ := ec.PrivateKeyFromBackupShares(shares)

if pk.Wif() == expectedWif {
    log.Println("Private key:", pk.Wif())
}
```

This section shows how to provide an array of key share strings to `ec.PrivateKeyFromBackupShares`. The function attempts to reconstruct the private key using these shares. The example uses 3 out of a potential 5 shares, as indicated by the `.3.` part in the share strings.

## Running the Example

To run this example:

```bash
go run from_backup.go
```

**Note**: The example uses a predefined set of key shares and an expected WIF. The key shares must be valid and sufficient in number (according to the threshold defined when they were created) to reconstruct the key.

## Integration Steps

To integrate this functionality into your application:
1. Securely store the key shares generated by a compatible key splitting mechanism (e.g., from `ec.PrivateKey.ToBackupShares`).
2. When key recovery is needed, gather the required number of shares.
3. Pass the array of share strings to `ec.PrivateKeyFromBackupShares(shares)` to reconstruct the `*ec.PrivateKey` object.
4. Handle any errors returned by the function, for example, if an insufficient number of shares are provided or if the shares are corrupted.

## Additional Resources

For more information, see:
- [Package Documentation](https://pkg.go.dev/github.com/bsv-blockchain/go-sdk/primitives/ec)
- [Key Shares to Backup Example](../keyshares_pk_to_backup/)
